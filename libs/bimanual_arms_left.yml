##
## Copyright (c) 2023 NVIDIA CORPORATION & AFFILIATES. All rights reserved.
##
## NVIDIA CORPORATION, its affiliates and licensors retain all intellectual
## property and proprietary rights in and to this material, related
## documentation and any modifications thereto. Any use, reproduction,
## disclosure or distribution of this material and related documentation
## without an express license agreement from NVIDIA CORPORATION or
## its affiliates is strictly prohibited.
##

robot_cfg:
  kinematics:
    use_usd_kinematics: False
    isaac_usd_path: "/robot/bimanual_arms.usd"
    usd_path: ""
    usd_robot_root: "/bimanual_arm"
    usd_flip_joints: []
    usd_flip_joint_limits: []
    urdf_path: "/workspace/libs/robot_description/ros/bimanual_arms.urdf" # TODO: UPDATE
    asset_root_path: ""
    base_link: "table"
    ee_link: "left_delto_offset_link"
    collision_link_names:
      [
        'right_panda_link0', 'right_panda_link1', 'right_panda_link2', 'right_panda_link3', 
        'right_panda_link4', 'right_panda_link5', 'right_panda_link6', 'right_panda_link7',
        'right_delto_base_link',
        'right_F1_01', 'right_F1_02', 'right_F1_03', 'right_F1_04', 'right_F1_TIP', 
        'right_F2_01', 'right_F2_02', 'right_F2_03', 'right_F2_04', 'right_F2_TIP',
        'right_F3_01', 'right_F3_02', 'right_F3_03', 'right_F3_04', 'right_F3_TIP',
        'left_panda_link0', 'left_panda_link1', 'left_panda_link2', 'left_panda_link3', 
        'left_panda_link4', 'left_panda_link5', 'left_panda_link6', 'left_panda_link7',
        'left_delto_base_link',
        'left_F1_01', 'left_F1_02', 'left_F1_03', 'left_F1_04', 'left_F1_TIP',
        'left_F2_01', 'left_F2_02', 'left_F2_03', 'left_F2_04', 'left_F2_TIP',
        'left_F3_01', 'left_F3_02', 'left_F3_03', 'left_F3_04', 'left_F3_TIP',
      ]
    collision_spheres: "/workspace/libs/bimanual_arms_spherized.yml"
    # collision_sphere_buffer: 0.004
    collision_sphere_buffer: 0.0
    extra_collision_spheres: {"attached_object": 4}
    use_global_cumul: True
    self_collision_ignore:
      {
        "left_panda_link0": ["left_panda_link1", "left_panda_link2"],
        "left_panda_link1": ["left_panda_link2", "left_panda_link3", "left_panda_link4"],
        "left_panda_link2": ["left_panda_link3", "left_panda_link4"],
        "left_panda_link3": ["left_panda_link4", "left_panda_link6"],
        "left_panda_link4": ["left_panda_link5", "left_panda_link6", "left_panda_link7", "left_panda_link8"],
        "left_panda_link5": ["left_panda_link6", "left_panda_link7"],
        "left_panda_link6": ["left_panda_link7", "left_delto_base_link"],
        "left_panda_link7": ["left_delto_base_link"],
        "left_delto_base_link": ["left_F1_01", "left_F1_02", "left_F1_03", "left_F2_01", "left_F2_02", "left_F2_03", "left_F3_01", "left_F3_02", "left_F3_03", "attached_object"],
        "left_F1_01": ["left_F1_02", "left_F1_03", "left_F2_01", "left_F2_02", "left_F3_01", "left_F3_02", "attached_object"],
        "left_F1_02": ["left_F1_03", "left_F2_01", "left_F3_01", "attached_object"],
        "left_F1_03": ["left_F1_04", "attached_object"],
        "left_F1_04": ["left_F1_TIP", "attached_object"],
        "left_F2_01": ["left_F2_02", "left_F2_03", "left_F3_01", "left_F3_02", "attached_object"],
        "left_F2_02": ["left_F2_03", "left_F3_01", "left_F3_02", "attached_object"],
        "left_F2_03": ["left_F2_04", "attached_object"],
        "left_F2_04": ["left_F2_TIP", "attached_object"],
        "left_F3_01": ["left_F3_02", "left_F3_03", "attached_object"],
        "left_F3_02": ["left_F3_03", "attached_object"],
        "left_F3_03": ["left_F3_04", "attached_object"],
        "left_F3_04": ["left_F3_TIP", "attached_object"],

        # Right arm (locked) adjacent link ignores
        "right_panda_link0": ["right_panda_link1"],
        "right_panda_link1": ["right_panda_link2"],
        "right_panda_link2": ["right_panda_link3"],
        "right_panda_link3": ["right_panda_link4"],
        "right_panda_link4": ["right_panda_link5"],
        "right_panda_link5": ["right_panda_link6"],
        "right_panda_link6": ["right_panda_link7"],
        "right_panda_link7": ["right_delto_base_link"],
        "right_delto_base_link": ["right_F1_01", "right_F1_02", "right_F1_03", "right_F2_01", "right_F2_02", "right_F2_03", "right_F3_01", "right_F3_02", "right_F3_03"],
        "right_F1_01": ["right_F1_02", "right_F1_03", "right_F2_01", "right_F2_02", "right_F3_01", "right_F3_02"],
        "right_F1_02": ["right_F1_03", "right_F2_01", "right_F3_01"],
        "right_F1_03": ["right_F1_04"],
        "right_F1_04": ["right_F1_TIP"],
        "right_F2_01": ["right_F2_02", "right_F2_03", "right_F3_01", "right_F3_02"],
        "right_F2_02": ["right_F2_03", "right_F3_01", "right_F3_02"],
        "right_F2_03": ["right_F2_04"],
        "right_F2_04": ["right_F2_TIP"],
        "right_F3_01": ["right_F3_02", "right_F3_03"],
        "right_F3_02": ["right_F3_03"],
        "right_F3_03": ["right_F3_04"],
        "right_F3_04": ["right_F3_TIP"],
      }

    self_collision_buffer:
      {
        "left_panda_link0": 0.1,
        "left_panda_link1": 0.05,
        "left_panda_link2": 0.0,
        "left_panda_link3": 0.0,
        "left_panda_link4": 0.0,
        "left_panda_link5": 0.0,
        "left_panda_link6": 0.0,
        "left_panda_link7": 0.0,
        "left_delto_base_link": 0.0,
        "left_F1_01": 0.0, "left_F1_02": 0.0, "left_F1_03": 0.0, "left_F1_04": 0.0, "left_F1_TIP": 0.0,
        "left_F2_01": 0.0, "left_F2_02": 0.0, "left_F2_03": 0.0, "left_F2_04": 0.0, "left_F2_TIP": 0.0,
        "left_F3_01": 0.0, "left_F3_02": 0.0, "left_F3_03": 0.0, "left_F3_04": 0.0, "left_F3_TIP": 0.0,
      }
    mesh_link_names:
      [
        "left_panda_link0",
        "left_panda_link1",
        "left_panda_link2",
        "left_panda_link3",
        "left_panda_link4",
        "left_panda_link5",
        "left_panda_link6",
        "left_panda_link7",
        "left_delto_base_link",
        "left_F1_01", "left_F1_02", "left_F1_03", "left_F1_04", "left_F1_TIP",
        "left_F2_01", "left_F2_02", "left_F2_03", "left_F2_04", "left_F2_TIP",
        "left_F3_01", "left_F3_02", "left_F3_03", "left_F3_04", "left_F3_TIP",
      ]

    lock_joints:
      {
        # Freeze gripper in open position
        "left_F1M1": 0.0, "left_F1M2": 0.0, "left_F1M3": 0.0, "left_F1M4": 0.0,
        "left_F2M1": 0.0, "left_F2M2": 0.0, "left_F2M3": 0.0, "left_F2M4": 0.0,
        "left_F3M1": 0.0, "left_F3M2": 0.0, "left_F3M3": 0.0, "left_F3M4": 0.0,

        "right_panda_joint1": 0.0, "right_panda_joint2": -0.7854,
        "right_panda_joint3": 0.0, "right_panda_joint4": -2.3562,
        "right_panda_joint5": 0.0, "right_panda_joint6": 1.5708,
        "right_panda_joint7": 0.7854,
    
        "right_F1M1": 0.0, "right_F1M2": 0.0, "right_F1M3": 0.0, "right_F1M4": 0.0,
        "right_F2M1": 0.0, "right_F2M2": 0.0, "right_F2M3": 0.0, "right_F2M4": 0.0,
        "right_F3M1": 0.0, "right_F3M2": 0.0, "right_F3M3": 0.0, "right_F3M4": 0.0,
      }
    cspace:
      joint_names: [
        "left_panda_joint1","left_panda_joint2","left_panda_joint3","left_panda_joint4",
        "left_panda_joint5","left_panda_joint6","left_panda_joint7"]
      retract_config: [0.0, -0.7854, 0.0, -2.3562, 0.0, 1.5708, 0.7854]
      null_space_weight: [1,1,1,1,1,1,1]
      cspace_distance_weight: [1,1,1,1,1,1,1]
      max_acceleration: 15.0
      max_jerk: 500.0